<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Pierwsza strona</title>
		<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
	</head>
	 <body onload="mapaStart()">      
		<script type="text/javascript">  
			var mapa; // obiekt globalny
			var punkt = new google.maps.LatLng();
			function dodajMarker(lat,lon,opcjeMarkera)
			{
				// tworzymy marker z współrzędnymi i opcjami z argumentów funkcji dodajMarker
				opcjeMarkera.position = new google.maps.LatLng(lat,lon);
				
				opcjeMarkera.map = mapa; // obiekt mapa jest obiektem globalnym!
				var marker = new google.maps.Marker(opcjeMarkera);
			}
					
		function mapaStart()   
		{   
			var wspolrzedne = new google.maps.LatLng(54.0924200,18.7778700);
			var opcjeMapy = {
			  zoom: 10,
			  center: wspolrzedne,
			  mapTypeId: google.maps.MapTypeId.ROADMAP,
			  disableDefaultUI: true
			};
			mapa = new google.maps.Map(document.getElementById("mapka"), opcjeMapy); 
			dodajMarker(54.07232,18.76756320000004,{title: 'Tu mieszkam !'});
			var directionsService = new google.maps.DirectionsService();

			google.maps.event.addListener(map, 'click', function(event) {
			var request = {
				origin:event.latLng, 
				destination:event.latLng,
				travelMode: google.maps.DirectionsTravelMode.DRIVING
			};

			directionsService.route(request, function(response, status) {
			  if (status == google.maps.DirectionsStatus.OK) {
				  var marker = new google.maps.Marker({
					 position: response.routes[0].legs[0].start_location, 
					 map: map,
					 title:"Hello World!"
				  });
			  }
			});
		});
		}   
		</script>   
	<div id="mapka" style="width: 700px; height: 500px; border: 1px solid black; background: gray;">
<!-- tu będzie mapa -->
</div>
<p id="info">
			Oto pierwsza mapa, stworzona za pomocą Google Maps API v3
		</p>
	</body>
</html>